{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","PiedDePage.jsx","Accueil.jsx","Apropos.jsx","Contact.jsx","Appli.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","panier","affichable","info","pan","tabArticles","Object","values","nbArticles","totalItems","st","tps","tvq","total","length","reduce","acc","article","qte","prix","toFixed","retournerInfoPanier","className","Entete","etatPanier","valeursPanier","useState","sommaireAffichable","setSommaireAffichable","to","activeClassName","Badge","onClick","badgeContent","accumulateur","eltCourant","color","BtnAjoutPanier","texte","classeCss","Produit","nom","id","setPanier","src","alt","JSON","parse","stringify","ListeProduits","props","tabProduits","map","prd","PiedDePage","annee","Date","getFullYear","Accueil","Apropos","Contact","Appli","valeurParDefaut","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.140f0af2.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier({panier, affichable}) {\r\n\r\n    const info = retournerInfoPanier(panier);\r\n\r\n    return (\r\n        <div className={'SommairePanier' + (!affichable ? ' cacher' : '')}>\r\n            <span>Articles différents : {info.nbArticles}</span>\r\n            <span>Total # items : {info.totalItems}</span>\r\n            <span>Sous-total : {info.st}</span>\r\n            <span>TPS : {info.tps}</span>\r\n            <span>TVQ : {info.tvq}</span>\r\n            <span>Total : {info.total}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction retournerInfoPanier(pan) {\r\n    const tabArticles = Object.values(pan);\r\n    //[{nom: , prix: , qte: }, {nom: , prix: , qte: }, {nom: , prix: , qte: }]\r\n    let info = {nbArticles: 0, totalItems: 0, st: 0, tps: 0, tvq: 0, total: 0};\r\n    info.nbArticles = tabArticles.length;\r\n    info.totalItems = tabArticles.reduce((acc, article) => acc + article.qte, 0);\r\n    const st = tabArticles.reduce((acc, article) => acc + (article.prix*article.qte) , 0);\r\n    info.st = st.toFixed(2);\r\n    const tps = st * 0.05;\r\n    info.tps = tps.toFixed(2);\r\n    const tvq = st * 0.09975;\r\n    info.tvq = tvq.toFixed(2);\r\n    info.total = (st + tps + tvq).toFixed(2);\r\n\r\n    return info\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SommairePanier from './SommairePanier.jsx';\r\nimport { useState } from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nfunction Entete({etatPanier}) {\r\n    const [panier] = etatPanier;\r\n\r\n    //const nbArticlesDiff = Object.values(panier).length;\r\n    const valeursPanier = Object.values(panier);\r\n    // let totalArticles = 0;\r\n    // for (let i = 0; i < valeursPanier.length; i++) {\r\n    //     totalArticles += valeursPanier[i].qte;\r\n    // }\r\n\r\n    // const totalArticles2 = valeursPanier.reduce(\r\n    //     (valInit, valCourante) => valInit + valCourante.qte\r\n    // , 0);\r\n\r\n    const [sommaireAffichable, setSommaireAffichable] = useState(false);\r\n\r\n    function basculerAffichageSommairePanier() {\r\n        setSommaireAffichable(!sommaireAffichable);\r\n    }\r\n\r\n    return (\r\n        <header className=\"Entete\">\r\n            <div className=\"logo\">\r\n                <NavLink to=\"/\" activeClassName=\"navActive\">\r\n                    Magasin\r\n                </NavLink>\r\n            </div>\r\n            <ul className=\"navPrincipale\">\r\n                <li><NavLink to=\"/nos-produits\" activeClassName=\"navActive\">Produits</NavLink></li>\r\n                <li><NavLink to=\"/a-propos-de-nous\" activeClassName=\"navActive\">À propos de nous</NavLink></li>\r\n                <li><NavLink to=\"/contactez-nous\" activeClassName=\"navActive\">Contactez-nous</NavLink></li>\r\n            </ul>\r\n            <ul className=\"navUtilisateur\">\r\n                <li>\r\n                    <Badge onClick={basculerAffichageSommairePanier} badgeContent={valeursPanier.reduce((accumulateur, eltCourant) => accumulateur + eltCourant.qte, 0)} color=\"secondary\">\r\n                        <ShoppingCartIcon />\r\n                    </Badge>\r\n                    <SommairePanier panier={panier} affichable={sommaireAffichable} />\r\n                </li>\r\n                <li>Mon Compte</li>\r\n            </ul>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Entete;","import './BtnAjoutPanier.scss';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nexport default function BtnAjoutPanier({onClick, qte, texte, classeCss}) {\r\n    return (\r\n        <Badge badgeContent={qte} color=\"primary\">\r\n            <button onClick={onClick} className={`BtnAjoutPanier ${classeCss}`}> \r\n                {texte}\r\n            </button>\r\n        </Badge>\r\n    );\r\n}","import BtnAjoutPanier from './BtnAjoutPanier'\r\nimport './Produit.scss';\r\nimport AddShoppingCart from '@material-ui/icons/AddShoppingCart';\r\n\r\nexport default function Produit({nom, prix, id, etatPanier}) {\r\n    const [panier, setPanier] = etatPanier;\r\n\r\n    function ajouterPanier() {\r\n        if (panier[id]) {\r\n            panier[id].qte++;\r\n        }\r\n        else {\r\n            panier[id] = {nom: nom, prix: prix, qte: 1}\r\n        }\r\n        setPanier(JSON.parse(JSON.stringify(panier))); //{...panier}\r\n    }\r\n\r\n    let qte = 0;\r\n    let texte = \"Ajouter au panier\";\r\n    let classeCss = \"\";\r\n    if (panier[id]) {\r\n        qte = panier[id].qte;\r\n        texte = <AddShoppingCart />; // JSX = Javascript Syntax eXtension\r\n        classeCss = \"rouge\";\r\n    }\r\n\r\n    return (\r\n        <li className=\"Produit\">\r\n            <img src={'images-produits/' + id + '.jpg'} alt=\"\"/>\r\n            <div className=\"info\">\r\n                <p className=\"nom\">{nom}</p>\r\n                <p className=\"prix\">{prix}</p>\r\n            </div>\r\n            <BtnAjoutPanier onClick={ajouterPanier} qte={qte} texte={texte} classeCss={classeCss} />\r\n        </li>\r\n    );\r\n}","import './ListeProduits.scss';\r\nimport Produit from './Produit.jsx';\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props) {\r\n\r\n    //let tab = [1,2,3];\r\n    //let  tabDouble = tab.map(x=> 2*x); //[2,4,6]\r\n    return (\r\n        <div className=\"ListeProduits\">\r\n            <h2>Produits disponibles</h2>\r\n            <ul>\r\n            {/* On va générer les produits à partir de la stucture obtenue du fichier JSON des produits */}\r\n\r\n            {tabProduits.map(prd => \r\n                <Produit etatPanier={props.etatPanier} key={prd.id} nom={prd.nom} prix={prd.prix} id={prd.id}/>\r\n            )}\r\n            </ul>\r\n        </div>\r\n    );\r\n}","import './PiedDePage.scss';\r\n\r\nexport default function PiedDePage(props) {\r\n    const annee = new Date().getFullYear();\r\n    return (\r\n        <footer className=\"PiedDePage\">\r\n            &copy;{annee} - TIM - Tous droitsréservés.\r\n        </footer>\r\n    );\r\n}\r\n\r\n","export default function Accueil() {\r\n    return (\r\n        <div className=\"Accueil\">\r\n            <h2>Magasin</h2>\r\n            <p>Page d'accueil en construction</p>\r\n        </div>\r\n    );\r\n}","export default function Apropos() {\r\n    return (\r\n        <div className=\"Apropos\">\r\n            <h2>Magasin</h2>\r\n            <p>Page d'apropos en construction</p>\r\n        </div>\r\n    );\r\n}","export default function Contact() {\r\n    return (\r\n        <div className=\"Contact\">\r\n            <h2>Magasin</h2>\r\n            <p>Formulaire de contactez-nous</p>\r\n        </div>\r\n    );\r\n}","import './Appli.scss';\r\nimport useLocalStorageState from './hooks/useLocalStorageState.js';\r\nimport Entete from './Entete.jsx';\r\nimport ListeProduits from './ListeProduits.jsx';\r\nimport PiedDePage from './PiedDePage.jsx';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Accueil from './Accueil.jsx';\r\nimport Apropos from './Apropos.jsx';\r\nimport Contact from './Contact.jsx';\r\n\r\nexport default function Appli() {\r\n  //Exemple de la structure panier\r\n  // const panier = {\r\n  //   prd0005: {prix: 19.69, qte: 1},\r\n  //   prd0002: {prix: 19.69, qte: 2}\r\n  // }\r\n\r\n//Gérer l'état avec les \"React Hooks\"\r\n//useState va créer une variable d'état initialisée à {}\r\n//const etatPanier = useState(() => {\r\n  //return JSON.parse(window.localStorage.getItem('panier')) || {};\r\n\r\n  // let panierDansLS = window.localStorage.getItem('panier');\r\n  // if(panierDansLS !== null) {\r\n  //   return JSON.parse(panierDansLS);\r\n  // }\r\n  // else {\r\n  //   return {};\r\n  // }\r\n//});\r\n\r\n//const [panier] = etatPanier;\r\n\r\n//Sauvegarder l'état du panier dans LocalStorage\r\n//Corriger avec useEffect() (hook)\r\n//useEffect(()=> window.localStorage.setItem('panier', JSON.stringify(panier)), [panier]);\r\n\r\nconst etatPanier = useLocalStorageState({}, \"panier\");\r\n\r\n// const etatConnexion = useState(false);\r\n// const connexion = etatConnexion[0];\r\n// const setConnexion = etatConnexion[1];\r\n\r\n//const [connexion, setConnexion] = useState(false); //Destructuring Arrays\r\n\r\n  return (\r\n    <div className=\"Appli\">\r\n      <Entete etatPanier={etatPanier} />\r\n      <section className=\"contenuPrincipal\">\r\n        <Switch>\r\n          <Route path=\"/\" component={Accueil} exact />\r\n          <Route path=\"/nos-produits\" exact>\r\n            <ListeProduits etatPanier={etatPanier} />\r\n          </Route>\r\n          <Route path=\"/a-propos-de-nous\" exact>\r\n            <Apropos />\r\n          </Route>\r\n          <Route path=\"/contactez-nous\" component={Contact} exact />\r\n        </Switch>\r\n      </section>\r\n      <PiedDePage />\r\n    </div>\r\n  );\r\n}\r\n","import {useState, useEffect} from 'react';\r\n\r\nexport default function useLocalStorageState(valeurParDefaut, etiquetteLS) {\r\n    const [etat, setEtat] = useState(\r\n        () => {\r\n            return JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurParDefaut;\r\n        }\r\n    );\r\n\r\n    useEffect(() => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)), [etat]);\r\n\r\n    return [etat, setEtat];\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.scss';\nimport Appli from './Appli';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Appli />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('racine')\n);"],"sourceRoot":""}